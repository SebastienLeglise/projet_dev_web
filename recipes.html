<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Page des recettes</title>
</head>

<body>
  <h1>Liste des recettes</h1>
  <div id="recipesContainer"></div>

  <div class="menu">
    <a href="index.html">Accueil</a>
  </div>

  <script>
     fetch('/api/recipe/consultAll', {
        method: 'GET', 
        headers: {
          'Content-Type': 'application/json', 
        },
      })
      .then((response) => response.json())
      .then((recipes) => {
        const recipesContainer = document.getElementById('recipesContainer');
        recipesContainer.innerHTML = recipes.map(recipe => `
          <div>
            <h3><a href="recipe.html?name=${encodeURIComponent(recipe.name)}">${recipe.name}</a></h3>
            <p><strong>URL originale:</strong> <a href="${recipe.originalURL}" target="_blank">${recipe.originalURL}</a></p>
          </div>
        `).join('');
      })
      .catch((error) => {
        console.error('Erreur lors du chargement des recettes:', error);
      });

  </script>


</body>
</html>